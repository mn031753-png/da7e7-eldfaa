<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø¯Ø­ÙŠØ­ Ø§Ù„Ø¯ÙØ¹Ø© - Ø®Ø·Ø© Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { font-family: Arial,sans-serif; direction:rtl; background:linear-gradient(135deg,#a1c4fd,#c2e9fb); margin:0; padding:0;}
  .container { max-width:800px; margin:40px auto; background:white; padding:30px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.15);}
  h1 {text-align:center;color:#2c3e50;}
  ul {font-size:18px; line-height:1.8;}
  button {background:#3498db;color:white;border:none;padding:10px 20px;font-size:16px;border-radius:6px;cursor:pointer;margin-top:20px;}
</style>
</head>
<body>

<div class="container">
  <h1>Ø®Ø·Ø© Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©</h1>
  <div id="plan"></div>
  <a href="data.html"><button>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button></a>
</div>

<script>
const grade = localStorage.getItem("grade");
const section = localStorage.getItem("section");
const subjects = JSON.parse(localStorage.getItem("subjects"));
const planDiv = document.getElementById("plan");

const scienceSubjects = ["ÙÙŠØ²ÙŠØ§Ø¡","ÙƒÙŠÙ…ÙŠØ§Ø¡","Ø£Ø­ÙŠØ§Ø¡","Ø±ÙŠØ§Ø¶ÙŠØ§Øª","Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©"];
const literarySubjects = ["ØªØ§Ø±ÙŠØ®","Ø¬ØºØ±Ø§ÙÙŠØ§","ÙÙ„Ø³ÙØ© ÙˆÙ…Ù†Ø·Ù‚","Ø¥Ø­ØµØ§Ø¡","Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"];

if(!grade || !subjects) { planDiv.innerHTML="<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§ÙÙŠØ©.</p>"; }
else {
  let dailyHours = 2.5; 
  if(grade==="second") dailyHours=3.5;
  if(grade==="third") dailyHours=5;

  // Ø§Ù„Ø£ÙˆØ²Ø§Ù†
  let totalWeight=0; const subjectWeights={};
  subjects.forEach(sub=>{
    if(scienceSubjects.includes(sub)) subjectWeights[sub]=2;
    else subjectWeights[sub]=1;
    totalWeight+=subjectWeights[sub];
  });

  const days=["Ø§Ù„Ø³Ø¨Øª","Ø§Ù„Ø£Ø­Ø¯","Ø§Ù„Ø§Ø«Ù†ÙŠÙ†","Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡","Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡","Ø§Ù„Ø®Ù…ÙŠØ³"];
  let html=`<p><strong>Ø¹Ø¯Ø¯ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©:</strong> ${dailyHours} Ø³Ø§Ø¹Ø©</p>`;
  html+=`<h3>ğŸ“… Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ:</h3>`;

  days.forEach(day=>{
    html+=`<h4>${day}</h4><ul>`;
    subjects.forEach(sub=>{
      const time=((subjectWeights[sub]/totalWeight)*dailyHours).toFixed(1);
      html+=`<li>${sub}: ${time} Ø³Ø§Ø¹Ø©</li>`;
    });
    html+="</ul>";
  });

  planDiv.innerHTML=html;
}
</script>

</body>
</html>
